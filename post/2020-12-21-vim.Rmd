---
title: "Why & How to Use one of the best Text Editors (vim)"
summary: "In this post I'm hopefully going to convince you about the merits of using the vim text editor. Besides persuading you to use vim, I will try to give you a brief tutorial and equip you with all the basics as well as with some nifty tipps and tricks."
author: "David D. Hofmann"
date: 2020-12-21T11:13:14-05:00
categories: ["Coding"]
tags: ["vim", "text editor", "efficiency", "atom"]
image: "img/post_vim.jpg"
output:
  blogdown::html_page:
    highlight: tango
    toc: true
---

# What is it?
Back in the day when I studied economics, I attended a course in "big data
science". Although I disliked the course (more precisely the lecturer), I have
to admit that it was rather informative and proved useful for my future career.
One of the first pieces of wisdom that our teacher equipped us with was:

> Choose your editor with more care than you would choose your spouse because
> you will continue to use the editor long after the spouse is gone.
> -- <cite> Some awkward professor </cite>

Throughout the course it became strikingly clear that the lecturer made this
statement based on personal experience. And even though I didn’t quite
understand all the fuzz about choosing a specific editor, the quote stuck with
me. So eventually I decided to investigate the merits of different text editors
and to find my lifetime companion. On my odyssey to find the perfect editor, I
repeatedly stumbled across a text editor called "vim". Vim, formerly known as
vi, is one of the oldest but also most popular and powerful text editors out
there. In fact, it often comes pre-installed on computers and servers and is
therefore widely available. This is partly due to the fact that vim does not
need a graphical user interface and can be executed from the terminal.

But what else makes vim so special? As you might expect from a text editor, vim
allows you to open, edit, and store any type of text or code. In this sense, vim
is not gamechanger. Its popularity mainly stems from the thoroughly designed
shortcuts (keybindings), which make it an incredibly powerful tool. These
key-bindings are so useful that they have been integrated into most modern
text-editors or IDEs, such as Atom and Sublime. As a result, you can often use
vim keybindings, even if you're not actually using vim from the terminal. For
instance, if you are a data scientist and enjoy using R-Studio, you can activate
vim-keybindings from within R-Studio. I myself use vim within Atom, my preferred
coding environment. Thus, whenever I talk about vim, I am not strictly referring
to the terminal-based text editor but to its useful keybindings.

```{r, echo=F, messages=F, out.width="25%", fig.cap="The vim logo"}
knitr::include_graphics("/img/gallery_vim/Vimlogo.svg", error = F)
```

By now you are probably quite confused about these mysterious vim-keybindings,
so let me try to explain what they’re good for. For this, let's first think
about the way in which we humans interact with a computer. Most of us are used
to operate our computers using a combination of mouse and keyboard. This duality
allows for a rather intuitive navigation, yet also requires that one of our
hands constantly moves back and forth between the mouse and keyboard. This
process of switching back and forth is rather time-consuming and becomes
particularly inefficient when writing code, as this often involves moving,
copying, appending, and deleting blocks of code as well as scrolling up or down
in the script, meaning that you'll constantly switch between mouse and keyboard.

The way in which vim operates is slightly different from what you're used to.
Vim basically turns your keyboard into a multi-mode keyboard, where each mode
has a distinct purpose. For now, we only care about two modes: *normal* mode and
*insert* mode. The normal mode is intended to replace your mouse (actually the
mode existed even before mouses were used) and allows you to *navigate* across
your document using dedicated keys. The insert mode, on the other hand, serves
as your regular keyboard and allows you to *insert text*. Hence, when using vim,
you’ll be constantly switching between normal mode and insert mode, similarly to
how you would switch from the keyboard to your mouse. This allows you to get rid
of the mouse, by simply turning your keyboard into an instrument for navigation.
While this sounds awefully complicated, it enables you to always rest your palms
on the keyboard.

Vim not only let's you navigate across a document but comes with many more
helpful keybindings that are used to implement the most common tasks, such as to
copy and paste text, to search for words, to undo your actions and so on. Of
course you can substitute many of these keybindings with regular keyboard
commands such as `ctrl + c` and `ctrl + v` but you will soon see that vim's
keybindings are much more efficient. If you're still not convinced, let me drive
home the point using an example. Assume you want to copy an entire line of code
and paste it to the line below. If you don’t know about vim, you will likely:

1. Move your right hand from the keyboard to the mouse
2. Move the cursor to the beginning of the line you want to copy
3. Click and drag the cursor along the line and highlight the text
4. Use `ctrl + c` to copy the line
5. Move the cursor one line below (maybe you feel fancy and use the arrow keys)
6. Use `ctrl + v` to paste the line
7. Move your hand back to the keyboard

If you know how to use vim, on the other hand, you simply:

1. press `y` (yank)
2. press `y` (yank)
3. press `p` (paste)

I guess it’s clear that the second approach is light-years quicker, much
cleaner, and more precise (it doesn't require you to fiddle around with the
mouse and try to exactly place the cursor at the correct position). Once you
truly master vim, such improvements will pay off and you will be able to
navigate and manipulate documents so much faster, without ever having to move
your mouse. Having said that, it's also important to realize that vim comes with
a frustratingly steep initial learning curve. However, don't get discouraged and keep going! Once your
muscle memory kicks in, vim becomes a habit and your fingers will fly over the
keyboard, pumping out code in matters of seconds. In my case, it
took a solid month of until I achieved a satistfactory level. Today, I use vim
for almost everything I do. In fact, I feel handicapped when I can't use vim! I
hope that this has convinced you that vim is of great value! So let’s get into
it and see how it works.

# Installation
Although many IDEs have the ability to turn vim keybindings on, I would
recommend that you first get familiar with "traditional" vim by using it through
the terminal. The reason for this is that not all IDEs make use of the exact
same keybindings. Thus, to avoid inconsistencies, its best to start with regular
vim. Anyways, if you want to use vim through the terminal, you obviously need to
have it installed. You can check if vim is already installed on your system by
opening a terminal and typing the command "vim". If this opens up vim you're
good to go. Otherwise, you need install vim manually by following [these
instructions]("https://www.vim.org/download.php"). Once that's done, you're
ready to take off. Open your terminal and enter vim.

![Opening vim from the command line should look like this (except for the german language maybe)](/img/gallery_vim/opening_vim.gif)

# How to use VIM
To get acquainted with vim, I would highly recommend that you work through
the "vimtutor". The vimtutor is a great little tutorial that comes preinstalled
with vim and will teach you all the basics of vim. You can invoke the tutor by
opening a terminal and typing "vimtutor". If you're too lazy to work through the
tutor, don't worry, I'll now go over the fundamentals of vim with you.

## Closing Vim
Closing a program shouldn't be too difficult, right? Truth is, there are tons of
memes making fun of people who fail to close vim. So let’s get that out of the
way. Once you successfully opened vim, you can close it by typing `:q!` and
hitting enter. `:q!` is not some weird looking emoji but a "chain" of commands:

| Command | Meaning
|:-|:---------------------------------
| `:` | Open the vim-terminal (sometimes also called command mode)
| `q` | Close vim
| `!` | *Optional*: enforce the above command, even if there are unsaved changes in the document

Consequently, running this command should close vim and bring you back to the
regular terminal. If this is was the case, open up vim again by typing vim in
the terminal.

```{r, echo=F, messages=F, out.width="50%", fig.cap="Just another vim meme"}
knitr::include_graphics("/img/gallery_vim/vim_meme.jpg", error = F)
```

## Switching Keyboard Modes
Now that we taught those nasty memes a lesson, we can move on to more
sophisticated stuff. First of all, you need to learn how to switch between
normal (i.e. navigation) and insert mode. Remember, normal mode is used to
navigate, insert mode to ... well ... insert stuff. When you fire up vim, you’ll
jump into normal by default. This often causes confusion when people start
typing on their keyboard but instead of writing text they erratically move
across the document. Thus, before you can type, you need to switch into insert
mode. This is achieved by pressing `i`. Once you're in insert mode, you can use
the keyboard as usual and write out some text. Once you're done, hit the `Esc`
key to return into normal mode. Well done! You now know how to switch between
insert and normal mode.

| Command | Meaning
|:-|:---------------------------------
| `i` | Switch to *insert* mode
| `Esc` | Switch to *normal* (i.e. navigation) mode

Try switching between the two modes a couple of times and see if you can note a
difference. You’ll notice that the visual difference is pretty underwhelming.
Only in the bottom left corner a small indicator tells you whether you're in
insert mode or not. It appears that vim was already minimalist before it was
cool. If you're ever uncertain whether you are currently in normal or insert
model, simply hit Esc multiple times (I typically hit like a maniac...) just to
be sure that you're in normal mode.

## Undo & Redo
When you switch from insert to normal mode, all of your modifications done
during insert mode will be "logged". That is, everytime you leave insert mode by
hitting `Esc`, you create a "timestamp". You can move backward (undo) or forward
(redo) between those timestamps using `u` and `ctrl + r`, respectively.

| Command | Meaning
|:-|:---------------------------------
| `u` | undo (move one timestamp backward)
| `ctrl + r` | redo (move one timestamp forward)

## Navigation
If you already feel like vim is a pain in the bottom, you should probably stop
reading. We are now going to learn how to navigate around in a document using
vim. Navigation in vim is achieved using tons of shortcuts. But don’t worry,
most of them make sense and are easy to remember and soon you’ll drop them smoother
than Bhusta Rhymes raps. The most important navigation keys to remember are `h`
`j` `k` and `l`. These are the keys that will replace your arrow keys and are
used as follows:

| Command | Meaning
|:-|:---------------------------------
| `h` | move one character backward
| `j` | move one line down
| `k` | move one line up
| `l` | move one character forward

You may wonder "why the hell would I not use my arrow keys but h, j, k, and l
instead?". The reason is that, in contrast to the arrow keys, `h` `j` `k` and
`l` are located very closely to where your fingers rest by default (at least if
you make use of the glorious 10-finger system). For this reason, you barely need
to move your hands when navigating using `h` `j` `k` and `l`. Try it out and
move around your vim document with those keys. If you accidentally switch into
insert mode, hit `Esc` to return. Once you feel comfortable using the navigation
keys, try to combine what you have learned thusfar and insert some text
somewhere. You will probably notice that `h` `j` `k` and `l` are terribly
inefficient for skipping multiple lines or characters. But don't worry, we will
soon learn some more efficient alternatives for this.

## Insert and Append
Whenever you hit `i`, vim will enter into insert mode **before** your cursor.
This is sometimes not really what you want, as you’d rather "append" some text
at the current location. In that case, there is an alternative. From normal
mode, type `a`. This will enter insert mode after the cursor! Noice, this means
that depending on our needs, we can jump into insert mode before or after the
cursor's current position. In fact, there are even more options. You can also
use capital I and capital A to insert text at the beginning of the current line,
or to append text at the end of the current line. I use these commands all the
time, particularly when writing code!

| Command | Meaning
|:-|:---------------------------------
| `i` | insert before cursor
| `a` | insert after cursor
| `I` | instert at the beginning of the current line
| `A` | instert at the end of the current line

You will probably realize the pseudo-logic behind these commands. Capital
letters are somewhat the "big brothers" and exaggerate what the small letters
do. Kind of makes sense... doesn't it?

## Delete, Copy and Paste
By now, you have probably entered a lot of gibberish that you want to get rid
of. In some cases, you can undo your sins using the `u` command. In other cases,
you need to delete specific characters. Of course you could go into insert mode
and delete whatever you wanted. However, insert mode carries its name for a
reason and is not really designed for deletions. In vim, you delete stuff in
normal mode. For this, simply navigate to the desired location and use `x`
(exterminate) to delete what’s below the cursor. Alternatively, use `X` to
delete what’s before the cursor. Easy!

| Command | Meaning
|:-|:---------------------------------
| `x` | delete after cursor
| `X` | delete before cursor

Note that vim stores whatever you just deleted last in a buffer. As such, you
can paste your last deletion somewhere else using `p` (paste after the cursor),
or `P` (paste before the cursor).

| Command | Meaning
|:-|:---------------------------------
| `p` | paste buffer after cursor
| `P` | paste buffer before cursor

## Some Nifty Keybindings
There are a couple of keybindings that I really enjoy using in my workflow. I
simply list them below.

| `gq` | reflow selection an make sure it doesn't exceed predefined line width

# Summary of Commands

| Command | Meaning
|:-|:---------------------------------
| `i` | Switch to *insert* mode
| `Esc` | Switch to *normal* (i.e. navigation) mode
| `u` | undo (move one timestamp backward)
| `ctrl + r` | redo (move one timestamp forward)
| `h` | move one character backward
| `j` | move one line down
| `k` | move one line up
| `l` | move one character forward
| `i` | insert before cursor
| `a` | insert after cursor
| `I` | instert at the beginning of the current line
| `A` | instert at the end of the current line
| `x` | delete after cursor
| `X` | delete before cursor
| `p` | paste buffer after cursor
| `P` | paste buffer before cursor
| `gq` | reflow selection an make sure it doesn't exceed predefined line width

# Conclusion

![Writing r-code (or any code really) is such a blast using vim!](/img/gallery_vim/using_vim.gif)
